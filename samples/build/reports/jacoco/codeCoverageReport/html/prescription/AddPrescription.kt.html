<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AddPrescription.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ibd-service</a> &gt; <a href="index.source.html" class="el_package">prescription</a> &gt; <span class="el_source">AddPrescription.kt</span></div><h1>AddPrescription.kt</h1><pre class="source lang-java linenums">package prescription

import java.math.BigDecimal
import java.sql.Date
import java.sql.PreparedStatement
import java.sql.Timestamp
import kotlin.Int
import kotlin.String
import norm.Command
import norm.ParamSetter
import org.postgresql.util.PGobject

<span class="fc" id="L13">data class AddPrescriptionParams(</span>
<span class="fc" id="L14">  val pharmacyId: String?,</span>
<span class="fc" id="L15">  val rxNumber: String?,</span>
<span class="fc" id="L16">  val drugName: String?,</span>
<span class="fc" id="L17">  val ndc: String?,</span>
<span class="fc" id="L18">  val fillNumber: Int?,</span>
<span class="fc" id="L19">  val timestamp: Timestamp?,</span>
<span class="fc" id="L20">  val directions: String?,</span>
<span class="fc" id="L21">  val daysSupply: Int?,</span>
<span class="fc" id="L22">  val drugForm: String?,</span>
<span class="fc" id="L23">  val diagnosisCode: String?,</span>
<span class="fc" id="L24">  val refills: Int?,</span>
<span class="fc" id="L25">  val quantity: BigDecimal?,</span>
<span class="fc" id="L26">  val amount: BigDecimal?,</span>
<span class="fc" id="L27">  val awp: BigDecimal?,</span>
<span class="fc" id="L28">  val copay: BigDecimal?,</span>
<span class="fc" id="L29">  val discount: BigDecimal?,</span>
<span class="fc" id="L30">  val insuranceId: String?,</span>
<span class="fc" id="L31">  val bin: String?,</span>
<span class="fc" id="L32">  val pcn: String?,</span>
<span class="fc" id="L33">  val groupNumber: String?,</span>
<span class="fc" id="L34">  val insuranceName: String?,</span>
<span class="fc" id="L35">  val insuranceType: String?,</span>
<span class="fc" id="L36">  val patientMmsId: Int?,</span>
<span class="fc" id="L37">  val patientFirstName: String?,</span>
<span class="fc" id="L38">  val patientLastName: String?,</span>
<span class="fc" id="L39">  val patientDob: Date?,</span>
<span class="fc" id="L40">  val patientGender: String?,</span>
<span class="fc" id="L41">  val patientEmail: String?,</span>
<span class="fc" id="L42">  val patientMobile: String?,</span>
<span class="fc" id="L43">  val patientTelephone: String?,</span>
<span class="fc" id="L44">  val patientAddress: PGobject?,</span>
<span class="fc" id="L45">  val doctorMmsId: Int?,</span>
<span class="fc" id="L46">  val doctorNpi: String?,</span>
<span class="fc" id="L47">  val doctorFirstName: String?,</span>
<span class="fc" id="L48">  val doctorLastName: String?,</span>
<span class="fc" id="L49">  val doctorMobile: String?,</span>
<span class="fc" id="L50">  val doctorEmail: String?,</span>
<span class="fc" id="L51">  val doctorFax: String?,</span>
<span class="fc" id="L52">  val doctorAddress: PGobject?</span>
)

<span class="fc" id="L55">class AddPrescriptionParamSetter : ParamSetter&lt;AddPrescriptionParams&gt; {</span>
  override fun map(ps: PreparedStatement, params: AddPrescriptionParams) {
<span class="fc" id="L57">    ps.setObject(1, params.pharmacyId)</span>
<span class="fc" id="L58">    ps.setObject(2, params.rxNumber)</span>
<span class="fc" id="L59">    ps.setObject(3, params.drugName)</span>
<span class="fc" id="L60">    ps.setObject(4, params.ndc)</span>
<span class="fc" id="L61">    ps.setObject(5, params.fillNumber)</span>
<span class="fc" id="L62">    ps.setObject(6, params.timestamp)</span>
<span class="fc" id="L63">    ps.setObject(7, params.directions)</span>
<span class="fc" id="L64">    ps.setObject(8, params.daysSupply)</span>
<span class="fc" id="L65">    ps.setObject(9, params.drugForm)</span>
<span class="fc" id="L66">    ps.setObject(10, params.diagnosisCode)</span>
<span class="fc" id="L67">    ps.setObject(11, params.refills)</span>
<span class="fc" id="L68">    ps.setObject(12, params.quantity)</span>
<span class="fc" id="L69">    ps.setObject(13, params.amount)</span>
<span class="fc" id="L70">    ps.setObject(14, params.awp)</span>
<span class="fc" id="L71">    ps.setObject(15, params.copay)</span>
<span class="fc" id="L72">    ps.setObject(16, params.discount)</span>
<span class="fc" id="L73">    ps.setObject(17, params.insuranceId)</span>
<span class="fc" id="L74">    ps.setObject(18, params.bin)</span>
<span class="fc" id="L75">    ps.setObject(19, params.pcn)</span>
<span class="fc" id="L76">    ps.setObject(20, params.groupNumber)</span>
<span class="fc" id="L77">    ps.setObject(21, params.insuranceName)</span>
<span class="fc" id="L78">    ps.setObject(22, params.insuranceType)</span>
<span class="fc" id="L79">    ps.setObject(23, params.patientMmsId)</span>
<span class="fc" id="L80">    ps.setObject(24, params.patientFirstName)</span>
<span class="fc" id="L81">    ps.setObject(25, params.patientLastName)</span>
<span class="fc" id="L82">    ps.setObject(26, params.patientDob)</span>
<span class="fc" id="L83">    ps.setObject(27, params.patientGender)</span>
<span class="fc" id="L84">    ps.setObject(28, params.patientEmail)</span>
<span class="fc" id="L85">    ps.setObject(29, params.patientMobile)</span>
<span class="fc" id="L86">    ps.setObject(30, params.patientTelephone)</span>
<span class="fc" id="L87">    ps.setObject(31, params.patientAddress)</span>
<span class="fc" id="L88">    ps.setObject(32, params.doctorMmsId)</span>
<span class="fc" id="L89">    ps.setObject(33, params.doctorNpi)</span>
<span class="fc" id="L90">    ps.setObject(34, params.doctorFirstName)</span>
<span class="fc" id="L91">    ps.setObject(35, params.doctorLastName)</span>
<span class="fc" id="L92">    ps.setObject(36, params.doctorMobile)</span>
<span class="fc" id="L93">    ps.setObject(37, params.doctorEmail)</span>
<span class="fc" id="L94">    ps.setObject(38, params.doctorFax)</span>
<span class="fc" id="L95">    ps.setObject(39, params.doctorAddress)</span>
<span class="fc" id="L96">  }</span>
}

<span class="fc" id="L99">class AddPrescriptionCommand : Command&lt;AddPrescriptionParams&gt; {</span>
<span class="fc" id="L100">  override val sql: String = &quot;&quot;&quot;</span>
      |insert into prescriptions(pharmacy_id, rx_number, drug_name, ndc, fill_number, rx_created, directions, days_supply, drug_form, diagnosis_code, refills, quantity, amount, awp, copay, discount, insurance_id, bin, pcn, group_number, insurance_name, insurance_type, patient_mms_id, patient_first_name, patient_last_name, patient_dob, patient_gender, patient_email,patient_mobile, patient_telephone, patient_address, doctor_mms_id, doctor_npi, doctor_first_name, doctor_last_name, doctor_mobile, doctor_email, doctor_fax, doctor_address)
      |values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
<span class="fc" id="L103">      &quot;&quot;&quot;.trimMargin()</span>

<span class="fc" id="L105">  override val paramSetter: ParamSetter&lt;AddPrescriptionParams&gt; = AddPrescriptionParamSetter()</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>